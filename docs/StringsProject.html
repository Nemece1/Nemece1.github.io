<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lance Nemecek">

<title>Lance Nemecek - Strings And The New York Times</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Lance Nemecek</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">Courses</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Projectsland.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-maps" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Maps</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-maps">    
        <li>
    <a class="dropdown-item" href="./us_states.html" rel="" target="">
 <span class="dropdown-text">Geospatial Maping of Obesity In The United States</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./wisconsin_districts.html" rel="" target="">
 <span class="dropdown-text">Congressional Districs of Wisconsin</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./BirthdayParadox.html" rel="" target="">
 <span class="menu-text">The Birthday Paradox</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./StringsProject.html" rel="" target="" aria-current="page">
 <span class="menu-text">Strings and stories</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#presidents" id="toc-presidents" class="nav-link active" data-scroll-target="#presidents">Presidents</a></li>
  <li><a href="#money" id="toc-money" class="nav-link" data-scroll-target="#money">Money</a></li>
  <li><a href="#united-states" id="toc-united-states" class="nav-link" data-scroll-target="#united-states">United States</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Strings And The New York Times</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Lance Nemecek </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RTextTools)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: SparseM</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'SparseM'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:base':

    backsolve</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.0     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(statebins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(NYTimes)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(NYTimes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,104 × 5
   Article_ID Date      Title                                 Subject Topic.Code
        &lt;int&gt; &lt;fct&gt;     &lt;fct&gt;                                 &lt;fct&gt;        &lt;int&gt;
 1      41246 1-Jan-96  Nation's Smaller Jails Struggle To C… Jails …         12
 2      41257 2-Jan-96  FEDERAL IMPASSE SADDLING STATES WITH… Federa…         20
 3      41268 3-Jan-96  Long, Costly Prelude Does Little To … Conten…         20
 4      41279 4-Jan-96  Top Leader of the Bosnian Serbs Now … Bosnia…         19
 5      41290 5-Jan-96  BATTLE OVER THE BUDGET: THE OVERVIEW… Battle…          1
 6      41302 7-Jan-96  South African Democracy Stumbles on … politi…         19
 7      41314 8-Jan-96  Among Economists, Little Fear on Def… econom…          1
 8      41333 10-Jan-96 BATTLE OVER THE BUDGET: THE OVERVIEW… budget…          1
 9      41344 11-Jan-96 High Court Is Cool To Census Change   census…         20
10      41355 12-Jan-96 TURMOIL AT BARNEYS: THE DIFFICULTIES… barney…         15
# ℹ 3,094 more rows</code></pre>
</div>
</div>
<p>For this project, I’ve decided to utilize the NYTimes dataset to craft my narrative by analyzing textual data and addressing pertinent inquiries.</p>
<section id="presidents" class="level2">
<h2 class="anchored" data-anchor-id="presidents">Presidents</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>NYTpresidents <span class="ot">&lt;-</span> NYTimes <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">has_bush =</span> <span class="fu">str_detect</span>(Title, <span class="st">"[Bb][Uu][Ss][Hh]"</span>),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">has_clinton =</span> <span class="fu">str_detect</span>(Title, <span class="st">"[Cc][Ll][Ii][Nn][Tt][Oo][Nn]"</span>))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>NYTpresidentssummary <span class="ot">&lt;-</span> NYTpresidents <span class="sc">|&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Bush =</span> <span class="fu">sum</span>(has_bush),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">Clinton =</span> <span class="fu">sum</span>(has_clinton))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>PrisedentsPlotData <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(NYTpresidentssummary, <span class="at">cols =</span> <span class="fu">c</span>(Bush, Clinton), </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">names_to =</span> <span class="st">"President"</span>, </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">values_to =</span> <span class="st">"Count"</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(PrisedentsPlotData, <span class="fu">aes</span>(<span class="at">x =</span> President, <span class="at">y =</span> Count, <span class="at">fill =</span> President)) <span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"NY Times Articles mentioning Presidents Bush and Clinton"</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"President"</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="StringsProject_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>What the code does and how I did it:</p>
<p>Bill Clinton and George Bush were the presidents from 1996 to 2006, which is the timeframe of the data. I created a new tibble called NYT_presidents, which will initially contain three columns: one with the original text from the “Title” column from the NY Times dataset, column “has_bush,” which will have a value of true if the string “Bush” is in the title column and NA if it does not. The “has_clinton” column works in the same way. To ensure I captured all capitalizations of the last names, I used square brackets to capture the first letter of the presidents’ last names.</p>
<ol start="2" type="1">
<li><p>NYT_presidents’ summary creates new columns called “bush” and “clinton,” which count the number of true values in the NYT presidents’ data.</p></li>
<li><p>“Presidents_plot_data” is NYT_presidents but pivoted longer so it can be used for graphing.</p></li>
<li><p>The final product is a bar plot showing the count of the number of times the presidents were mentioned by The New York Times.</p></li>
</ol>
<p>My Story: This analysis of mentions of Presidents Bill Clinton and George Bush within The New York Times dataset holds importance. It provides a quantitative understanding of the media coverage surrounding these political figures during a pivotal period in American history. By tracking the frequency of mentions, researchers may insight into the prominence and public perception of each president over time.</p>
<p>This analysis contributes to our understanding of media bias and agenda-setting. The frequency of mentions may reflect the newspaper’s editorial priorities and the broader societal discourse surrounding these presidents’ administrations. Understanding how media coverage shapes public perception is crucial for evaluating the democratic process and the role of the media in shaping political narratives.</p>
</section>
<section id="money" class="level2">
<h2 class="anchored" data-anchor-id="money">Money</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>NYTmoney <span class="ot">&lt;-</span> NYTimes <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(Title, <span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>NYTthousand <span class="ot">&lt;-</span> NYTmoney <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">thousands =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, <span class="fu">str_extract</span>(Title, <span class="st">"</span><span class="sc">\\</span><span class="st">d{1,3},</span><span class="sc">\\</span><span class="st">d{3}"</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>NYTmillion <span class="ot">&lt;-</span> NYTmoney <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">millionsnumber =</span> <span class="fu">str_extract</span>(Title, <span class="st">"[Mm][Ii][Ll][Ll][Ii][Oo][Nn]"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">millions =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(millionsnumber), <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Title, <span class="st">"</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.?</span><span class="sc">\\</span><span class="st">d*"</span>)), <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, millions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>NYTbillion <span class="ot">&lt;-</span> NYTmoney <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">billionsnumber =</span> <span class="fu">str_extract</span>(Title, <span class="st">"[Bb][Ii][Ll][Ll][Ii][Oo][Nn]"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">billions =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(billionsnumber), <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Title, <span class="st">"</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.?</span><span class="sc">\\</span><span class="st">d*"</span>)), <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, billions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>NYTtrillion <span class="ot">&lt;-</span> NYTmoney <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trillionsnumber =</span> <span class="fu">str_extract</span>(Title, <span class="st">"[Tt]rillion"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trillions =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(trillionsnumber), <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Title, <span class="st">"</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.?</span><span class="sc">\\</span><span class="st">d*"</span>)), <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, trillions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>NYT_combined <span class="ot">&lt;-</span> <span class="fu">left_join</span>(NYTmillion, NYTbillion, <span class="at">by =</span> <span class="st">"Title"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>NYT_combined <span class="ot">&lt;-</span> <span class="fu">left_join</span>(NYT_combined, NYTtrillion, <span class="at">by =</span> <span class="st">"Title"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>NYT_combined <span class="ot">&lt;-</span> <span class="fu">left_join</span>(NYT_combined, NYTthousand, <span class="at">by =</span> <span class="st">"Title"</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(NYT_combined)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                          Title
1                          Milnerton Journal; This $40 Crank-Up Radio Lets Rural Africa Tune In
2                                           RUSSIA AND I.M.F. AGREE ON A LOAN FOR $10.2 BILLION
3                                           2 Governors Back $130 Million Plan To Deepen Harbor
4         GIULIANI'S BUDGET PLAN: THE OVERVIEW; Giuliani Offers an Austere $32.7 Billion Budget
5                                Mayor and Council Hold Strings For $276 Million Schools Pledge
6                                        CLINTON SIGNS BILL FOR $256.6 BILLION FOR ARMED FORCES
7                                 U.S. to Settle for $4.8 Million In Suits on Radiation Testing
8                                         A Co-op Must Pay $640,000 For Denying Sublet to Black
9                                           AUDIT OF MEDICARE FINDS $23 BILLION IN OVERPAYMENTS
10                                    ITT Accepts $9.8 Billion Bid, Forming Biggest Hotel Chain
11      BANKING'S CONSOLIDATION: THE DEAL; $17.1 BILLION DEAL FOR BANK CREATES EAST COAST GIANT
12      CRISIS IN SOUTH KOREA: THE BAILOUT; PACKAGE OF LOANS WORTH $55 BILLION IS SET FOR KOREA
13                                                30 Firms to Pay $900 Million In Investor Suit
14                                            A $12 Billion Carrot for Prudential Policyholders
15                                          JAPAN ANNOUNCES $195 BILLION PLAN TO REVIVE ECONOMY
16                                         REPUBLICANS' GOAL IS $1 MILLION EACH FROM TOP DONORS
17                                Gore Proposal Would Set Aside $115 Billion for Education Fund
18                                          SENATE APPROVES $1 BILLION TO AID COLOMBIA MILITARY
19                                         DEUTSCHE TELEKOM TO PAY $50 BILLION FOR U.S. COMPANY
20                                 Chevron Agrees to Buy Texaco For Stock Valued at $36 Billion
21                                                          Surplus Estimate Hits $5.6 Trillion
22 The President's Budget: The Proposal; President Unveils $1.96 Trillion Plan That Trims Taxes
23                               A Rival Is Offering $44.5 Billion For AT&amp;T's Cable TV Business
24                     The Media Business; Publisher Will Pay Clinton Over $10 Million for Book
25                                                    Firestone Set to Pay $7.5 Million in Suit
26                                       LIBYA IS OFFERING TO PAY $2.7 BILLION FOR PAN AM BLAST
27                                                     Edison Schools Gets $40 Million in Loans
28                                               Bush Aide Sees Deficit in 2003 Of $200 Billion
29                                              House Approves 10-Year Tax Cut For $550 Billion
30                                MCI Agrees to Pay $500 Million In FraudCase, S.E.C.'s Largest
31                           TECHNOLOGY; \nMICROSOFT TO PAY AOL $750 MILLION; END TO 'LONG WAR'
32                                           $58 BILLION DEAL TO UNITE 2 GIANTS OF U.S. BANKING
33                                             For Iraqis in Harm's Way, $5,000 and 'I'm Sorry'
34                                            I.B.M. EMPLOYEES GET $320 MILLION IN PENSION SUIT
35                                             Con Ed to Pay $7.2 Million in Electrocution Case
36                             New White House Estimate Lifts Drug Benefit Cost to $720 Billion
37                                  Harvard Will Spend $50 Million To Make Faculty More Diverse
38                                    Somalis Brave a Sea of Perils For $50-a-Month Jobs Abroad
39                                               Telecom Giants In Europe Plan $30 Billion Deal
   millions billions trillions thousands
1        NA       NA        NA        NA
2        NA     10.2        NA        NA
3       2.0       NA        NA        NA
4        NA     32.7        NA        NA
5     276.0       NA        NA        NA
6        NA    256.6        NA        NA
7       4.8       NA        NA        NA
8        NA       NA        NA    640000
9        NA     23.0        NA        NA
10       NA      9.8        NA        NA
11       NA     17.1        NA        NA
12       NA     55.0        NA        NA
13     30.0       NA        NA        NA
14       NA     12.0        NA        NA
15       NA    195.0        NA        NA
16      1.0       NA        NA        NA
17       NA    115.0        NA        NA
18       NA      1.0        NA        NA
19       NA     50.0        NA        NA
20       NA     36.0        NA        NA
21       NA       NA      5.60        NA
22       NA       NA      1.96        NA
23       NA     44.5        NA        NA
24     10.0       NA        NA        NA
25      7.5       NA        NA        NA
26       NA      2.7        NA        NA
27     40.0       NA        NA        NA
28       NA   2003.0        NA        NA
29       NA     10.0        NA        NA
30    500.0       NA        NA        NA
31    750.0       NA        NA        NA
32       NA     58.0        NA        NA
33       NA       NA        NA      5000
34    320.0       NA        NA        NA
35      7.2       NA        NA        NA
36       NA    720.0        NA        NA
37     50.0       NA        NA        NA
38       NA       NA        NA        NA
39       NA     30.0        NA        NA</code></pre>
</div>
</div>
<p><em>NYTmoney</em>: - This chunk selects rows from the dataset <code>NYTimes</code> where the title contains a dollar sign (‘$’).</p>
<p><em>NYTthousand</em>: - This chunk takes the subset of data identified as containing monetary values in the thousands. - It extracts the numeric values from the titles that are formatted with thousands (with commas), converting them into numeric values.</p>
<p><em>NYTmillion</em>: - This chunk identifies rows with monetary values expressed in millions. - It extracts both the word ‘million’ and the numeric values associated with it, converting the numeric values into numeric format.</p>
<p><em>NYTbillion</em>: - Similar to the previous chunk, this one focuses on monetary values expressed in billions. - It extracts both the word ‘billion’ and the associated numeric values, converting them into numeric format.</p>
<p><em>NYTtrillion</em>: - Similar to the previous chunks, this one focuses on monetary values expressed in trillions. - It extracts both the word ‘trillion’ and the associated numeric values, converting them into numeric format.</p>
<p><em>NYT_combined</em>: - This chunk joins the dataframes created in the previous steps (<code>NYTmillion</code>, <code>NYTbillion</code>, <code>NYTtrillion</code>, <code>NYTthousand</code>) based on the common column ‘Title’. - It combines all the extracted monetary values into a single dataframe, <code>NYT_combined</code>, where each row corresponds to a title from the New York Times dataset, with columns for millions, billions, trillions, and thousands as applicable.</p>
<p>My Story:<br>
The dataset from The New York Times provides insights into monetary discussions within its articles. Through filtering, specific monetary values, spanning thousands to trillions, are extracted, representing diverse economic narratives such as corporate deals, budget allocations, and economic forecasts. These figures offer valuable context, highlighting trends and developments across sectors.</p>
<p>As the analysis progresses, the dataset combines these monetary categories, offering a comprehensive view of financial discussions over time. This merging process enables a nuanced understanding of hwo common and the distribution of monetary references within The New York Times articles.</p>
<p>This exploration of monetary mentions serves as a valuable resource for researchers, journalists, and policymakers, offering a quantifiable look on economic discourse. The easiness of tracking financial trends and provides insight into the narratives shaping public perception and policy decisions.</p>
</section>
<section id="united-states" class="level2">
<h2 class="anchored" data-anchor-id="united-states">United States</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">as.tibble</span>(state.name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `as.tibble()` was deprecated in tibble 2.0.0.
ℹ Please use `as_tibble()` instead.
ℹ The signature and semantics have changed, see `?as_tibble`.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">rename</span>(states, <span class="at">state_name =</span> value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>extract_state <span class="ot">&lt;-</span> <span class="cf">function</span>(Title) {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  state_match <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(Title, <span class="fu">paste</span>(<span class="fu">str_to_lower</span>(state.name), <span class="at">collapse =</span> <span class="st">"|"</span>))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.na</span>(state_match)) {</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(state_match)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>NYTimes<span class="sc">$</span>Title <span class="ot">&lt;-</span> <span class="fu">str_to_lower</span>(NYTimes<span class="sc">$</span>Title)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>NYTstates <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Title =</span> NYTimes<span class="sc">$</span>Title,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">State =</span> <span class="fu">sapply</span>(NYTimes<span class="sc">$</span>Title, extract_state))</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>NYTstates <span class="ot">&lt;-</span> NYTstates <span class="sc">|&gt;</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(State))</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(NYTstates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 167 × 2
   Title                                                                   State
   &lt;chr&gt;                                                                   &lt;chr&gt;
 1 despite deep grass roots in iowa, gramm struggles to catch forbes       iowa 
 2 moderating path, rowland aims at healing of connecticut cities          conn…
 3 high water in oregon                                                    oreg…
 4 politics: the issues; south carolina is a crossroads for the g.o.p.     sout…
 5 politics: changing direction; dole easily beats buchanan to win in sou… sout…
 6 the race for congress: texas' 14th district; under fire, a g.o.p. conv… texas
 7 new york council to ask voters to postpone limits on its terms          new …
 8 schools head urges abolishing tenure for new york principals            new …
 9 california's governor joins g.o.p. abortion-plank foes                  cali…
10 a new kansas senator                                                    kans…
# ℹ 157 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the data</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NYTstates, <span class="fu">aes</span>(<span class="at">x =</span> State, <span class="at">color =</span> State)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Number of Articles by State"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"State"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Articles"</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="StringsProject_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>Creating a tibble of state names</em>:<br>
- The first chunk initializes a tibble named “states” containing the names of the states in the United States.<br>
- It then renames the column containing state names to “state_name”.</p>
<p><em>Defining a function to extract state names from article titles</em>:<br>
- The second chunk defines a function called “extract_state”, which takes a title as input.<br>
- Within the function, it searches for state names in the title using lowercase versions of state names.<br>
- If a state name is found, it returns the matched state, otherwise, it returns NA.</p>
<p><em>Applying the function to the NYTimes dataset</em>:<br>
- The NYTimes dataset’s titles are converted to lowercase.<br>
- A new tibble named “NYTstates” is created, containing the titles and the corresponding state names extracted using the “extract_state” function.<br>
- Rows with NA values in the “State” column are filtered out.</p>
<p><em>Plotting the data</em>:<br>
- Finally, the code generates a bar plot using ggplot, depicting the number of articles by state.<br>
My Story: This code offers an oppourunity for exploring geographic trends in media through The New York Times. By extracting mentions of U.S. states from article titles, I provided insight into which regions garner the most attention within the NYT. This information could be useful for journalists, helping them identify areas of interest or underserved regions warranting more coverage.</p>
<p>Researchers could also use this data to analyze how media attention correlates with various factors such as population density, political significance, or socioeconomic status across different states. Politicians and policymakers may also find utility in understanding which states receive the most media coverage and tailoring their messaging or policies accordingly.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>